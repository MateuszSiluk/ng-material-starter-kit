<mat-card
  >Filter Criteria<mat-card-title> </mat-card-title
  ><mat-card-content
    ><form
      [formGroup]="searchForm"
      (ngSubmit)="onSearchFormSubmitted(searchForm)"
    >
      <div>
        <mat-form-field appearance="fill">
          <mat-label>Choose an option</mat-label>
          <input
            type="text"
            placeholder="Pick one"
            matInput
            formControlName="brand"
            [matAutocomplete]="brand"
          /><mat-autocomplete #brand="matAutocomplete">
            <mat-option
              *ngFor="let item of filteredBrands$ | async"
              [value]="item.name"
            >
              {{ item.name }}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
      </div>

      <div>
        <mat-form-field appearance="fill">
          <mat-label>Choose an option</mat-label>
          <input
            type="text"
            placeholder="Pick one"
            matInput
            formControlName="security"
            [matAutocomplete]="security"
          /><mat-autocomplete #security="matAutocomplete">
            <mat-option
              *ngFor="let item of filteredSecurity$ | async"
              [value]="item.name"
            >
              {{ item.name }}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field appearance="fill">
          <mat-label>Choose an option</mat-label>
          <input
            type="text"
            placeholder="Pick one"
            matInput
            formControlName="comfort"
            [matAutocomplete]="comfort"
          /><mat-autocomplete #comfort="matAutocomplete">
            <mat-option
              *ngFor="let item of filteredComforts$ | async"
              [value]="item.name"
            >
              {{ item.name }}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
      </div>
    </form></mat-card-content
  ></mat-card
>

<ng-container *ngIf="cars$ | async as list">
  <table mat-table [dataSource]="list" class="mat-elevation-z8">
    <!-- Column 1 -->
    <ng-container matColumnDef="Brand">
      <th mat-header-cell *matHeaderCellDef>Brand</th>
      <td mat-cell *matCellDef="let element">{{ element.brand }}</td>
    </ng-container>
    <!-- Column 2 -->
    <ng-container matColumnDef="Model">
      <th mat-header-cell *matHeaderCellDef>Model</th>
      <td mat-cell *matCellDef="let element">{{ element.model }}</td>
    </ng-container>
    <!-- Column 3 -->
    <ng-container matColumnDef="Comfort Feature">
      <th mat-header-cell *matHeaderCellDef>Comfort Feature</th>
      <td mat-cell *matCellDef="let element">{{ element.comfortFeatures }}</td>
    </ng-container>
    <!-- Column 4 -->
    <ng-container matColumnDef="Security Feature">
      <th mat-header-cell *matHeaderCellDef>Security Feature</th>
      <td mat-cell *matCellDef="let element">{{ element.securityFeatures }}</td>
    </ng-container>

    <tr
      mat-header-row
      *matHeaderRowDef="[
        'Brand',
        'Model',
        'Comfort Feature',
        'Security Feature'
      ]"
    ></tr>
    <tr
      mat-row
      *matRowDef="
        let row;
        columns: ['Brand', 'Model', 'Comfort Feature', 'Security Feature']
      "
    ></tr>
  </table>
</ng-container>
